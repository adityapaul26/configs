# ============================================
# ğŸš€ Ultra Beautiful tmux Configuration ğŸš€
# ============================================

# ============================================
# âš™ï¸  General Settings
# ============================================

# Set true color support
set-option -sa terminal-overrides ",xterm*:Tc"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# Change prefix to C-z (even more ergonomic!)
unbind C-b
set -g prefix C-z
bind C-z send-prefix

# Enable mouse support
set -g mouse on

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Increase scrollback buffer size
set -g history-limit 50000

# Set escape time to zero for better vim experience
set -sg escape-time 0

# Focus events enabled for terminals that support them
set -g focus-events on

# Display tmux messages for 4 seconds
set -g display-time 4000

# Refresh status bar more frequently
set -g status-interval 2

# ============================================
# ğŸ® Key Bindings
# ============================================

# Reload config file with animation
bind r source-file ~/.tmux.conf \; display "âœ¨ Config reloaded! âœ¨"

# Split panes using | and -
unbind %
unbind '"'
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# New window with current path
bind c new-window -c "#{pane_current_path}"

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes with vim keys
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Maximize/minimize pane
bind -r m resize-pane -Z

# Enable vi mode for copy mode
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# Quick window switching
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

# Easy config edit
bind e new-window -n "tmux.conf" "sh -c '\${EDITOR:-vim} ~/.tmux.conf'"

# Kill pane without confirmation
bind x kill-pane

# Toggle status bar
bind S set-option -g status

# ============================================
# ğŸ¨ Visual Styling - Ultra Modern Dark Theme
# ============================================

# Status bar position
set-option -g status-position bottom

# Status bar colors - Deeper, richer palette
set -g status-style 'bg=#11111b fg=#cdd6f4'

# Status bar length
set -g status-left-length 100
set -g status-right-length 100

# Left status bar - session name with icons
set -g status-left '#[bg=#89b4fa,fg=#11111b,bold] ó°Š  #S #[bg=#11111b,fg=#89b4fa]#[fg=#89b4fa]  #{pane_current_path} '

# Right status bar - system info with icons
set -g status-right '#[fg=#f38ba8] #H #[fg=#89dceb]#[bg=#89dceb,fg=#11111b,bold]  %H:%M #[bg=#11111b,fg=#89dceb] #[fg=#a6e3a1]#[bg=#a6e3a1,fg=#11111b,bold]  %d %b %Y '

# Window status format with icons
set -g window-status-format '#[fg=#6c7086,bg=#11111b] #I:#W#{?window_zoomed_flag, ,} '
set -g window-status-current-format '#[bg=#cba6f7,fg=#11111b,bold]  #I:#W#{?window_zoomed_flag, ,} #[bg=#11111b,fg=#cba6f7]'

# Add activity indicator
set -g window-status-activity-style 'fg=#f9e2af,bg=#11111b'
set -g window-status-bell-style 'fg=#f38ba8,bg=#11111b,bold'

# Window status separator
set -g window-status-separator ''

# Pane border colors - More vibrant
set -g pane-border-style 'fg=#45475a'
set -g pane-active-border-style 'fg=#89b4fa,bold'

# Pane border format with icons
set -g pane-border-format '  #{pane_index} #{pane_current_command} '
set -g pane-border-status off

# Message styling
set -g message-style 'bg=#cba6f7,fg=#11111b,bold'
set -g message-command-style 'bg=#cba6f7,fg=#11111b,bold'

# Clock mode color
set -g clock-mode-colour '#89b4fa'
set -g clock-mode-style 24

# Copy mode colors
set -g mode-style 'bg=#89b4fa,fg=#11111b,bold'

# ============================================
# ğŸ¯ Additional Enhancements
# ============================================

# Automatically set window title
set-window-option -g automatic-rename on
set-option -g set-titles on
set-option -g set-titles-string 'ğŸ–¥ï¸  #S | #W'

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity off
set -g visual-bell off
set -g bell-action none

# Aggressive resize (useful when sharing sessions)
setw -g aggressive-resize on

# Allow opening multiple terminals to view same session at different sizes
setw -g window-size largest

# Display pane numbers for longer
set -g display-panes-time 3000
set -g display-panes-colour '#89b4fa'
set -g display-panes-active-colour '#cba6f7'

# ============================================
# ğŸ”Œ Plugin Configuration
# ============================================

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

# ğŸ’¾ Resurrect settings
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-vim 'session'
set -g @resurrect-strategy-nvim 'session'

# ğŸ”„ Continuum settings - auto save/restore
set -g @continuum-restore 'on'
set -g @continuum-save-interval '15'

# ğŸ“‹ Yank settings
set -g @yank_selection_mouse 'clipboard'

# ğŸ¯ Prefix highlight settings
set -g @prefix_highlight_fg '#11111b'
set -g @prefix_highlight_bg '#f38ba8'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr 'fg=#11111b,bg=#a6e3a1,bold'
set -g @prefix_highlight_prefix_prompt 'ó±‹'
set -g @prefix_highlight_copy_prompt ''
set -g @prefix_highlight_output_prefix ' '
set -g @prefix_highlight_output_suffix ' '

# Add prefix highlight to status line
set -ga status-right '#{prefix_highlight}'

# ============================================
# ğŸª Fun Extras
# ============================================

# Set terminal title
set -g set-titles on
set -g set-titles-string ' tmux: #S | #W'

# Allow passthrough for better integration
set -g allow-passthrough on

# ============================================
# ğŸš¦ Initialize TPM (Keep at bottom!)
# ============================================
run '~/.tmux/plugins/tpm/tpm'

# ============================================
# ğŸ“ Quick Reference
# ============================================
# Prefix: Ctrl+Z
# Split vertical: Prefix + |
# Split horizontal: Prefix + -
# Navigate panes: Prefix + h/j/k/l
# Resize panes: Prefix + H/J/K/L
# Maximize pane: Prefix + m
# New window: Prefix + c
# Switch windows: Alt + 1-9
# Reload config: Prefix + r
# Edit config: Prefix + e
# Toggle status: Prefix + S
# ============================================
